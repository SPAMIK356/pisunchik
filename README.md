# HealthyPlan AI

**HealthyPlan AI** — це веб-застосунок для автоматичної генерації персоналізованих планів харчування. Проект використовує штучний інтелект (Google Gemini) для розрахунку КБЖВ та створення меню, а також Matplotlib для візуалізації даних.

>**Проект розроблено в рамках навчальної практики/курсової роботи.**

---

## Основний функціонал

* **AI-Generated Plans:** Інтеграція з **Google Gemini API** для створення унікальних раціонів під конкретні параметри користувача (вага, зріст, вік, стать, мета).
* **Smart Visualization:** Динамічна генерація діаграм розподілу нутрієнтів (БЖВ) на сервері за допомогою **Matplotlib** з передачею на клієнт у форматі Base64.
* **Data Validation:** Сувора типізація даних на бекенді за допомогою **Pydantic**.
* **Failover System:** Розумний фронтенд, який автоматично визначає доступний сервер API (Localhost або Remote Server).
* **Responsive UI:** Сучасний дизайн з використанням Glassmorphism, анімацій та адаптивної верстки.

---

## Технічний стек

### Backend
* **Python 3.14**
* **FastAPI** — для створення швидкого та асинхронного REST API.
* **Google GenAI SDK** — для взаємодії з LLM моделями.
* **Matplotlib** — для генерації графіків в пам'яті (без збереження файлів).
* **Pydantic** — для валідації та серіалізації даних.

### Frontend
* **HTML5 / CSS3** — верстка та анімації.
* **JavaScript (Vanilla)** — логіка клієнта, обробка асинхронних запитів, динамічний рендеринг DOM.

---

## Як запустити проект

### 1. Попередні вимоги
Переконайтеся, що у вас встановлено **Python 3.10** або новіше.

### 2. Налаштування Бекенду

1.  Клонуйте репозиторій або завантажте папку з проектом.
    ```bash
    git clone https://github.com/SPAMIK356/healthyplan.git
    cd healthyplan
    ```
2.  Створіть віртуальне середовище (рекомендовано):
    ```bash
    python -m venv venv
    # Windows:
    venv\Scripts\activate
    # macOS/Linux:
    source venv/bin/activate
    ```
3.  Встановіть залежності:
    ```bash
    pip install -r requirements.txt
    ```
4.  **Налаштування змінних оточення:**
    Створіть файл `.env` у корені проекту та додайте туди ваш ключ API та назву моделі:
    ```env
    GOOGLE_API_KEY=ваш_ключ_від_gemini
    MODEL=gemini-3.0-flash-preview #Або інша модель
    ```

### 3. Запуск Сервера

Використовуйте команду `fastapi` або `uvicorn` для запуску:

```bash
fastapi dev main.py
# Або класичний варіант:
uvicorn main:app --reload
```
Сервер запуститься за адресою: `http://127.0.0.1:8000` 

Документація API (Swagger UI) доступна за адресою: `http://127.0.0.1:8000/docs`

### 4. Запуск фронтенду

Просто відкрийте файл `index.html` у будь-якому сучасному браузері
> Примтка: Фронтенд автоматично спробує підключитися до локального сервера (localhost:8000). Якщо він недоступний, система спробує підключитися до віддаленого демо-сервера (якщо налаштовано в api.js).
---

## Api Endpoints

### `POST /get_plan`

Генерує план харчування.

**Тіло запиту:**

```json
{
  "weight": 70,
  "age": 25,
  "height": 175,
  "sex": "Чоловік",
  "goal": "weight-loss"
}
```

Повертає об'єкт **PlanResponse**, що містить:
* `meals`: Список прийомів їжі.

* `macros_and_cals`: Підраховані БЖВ.

* `chart_image`: Base64 рядок з діаграмою.

* `note`: Порада від ШІ.

### `GET /health`

Повертає статус серверу:

* `status`: статус серверу (`ok` якщо все добре)

## Автори

* **Бондаренко Максим** - Backend Development, AI Logic
* **Катерина Китайченкова** - Frontend Design, UI/UX